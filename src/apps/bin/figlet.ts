// src/apps/bin/figlet.ts
export async function run(args: string[], context: any) {
  const text = args.join(' ').toUpperCase() || 'SHAWOS';
  const letters = {
    'A': ['  ▄▀▀▄  ', ' █▄▄█ ', ' █  █ '],
    'B': [' ▀█▀█▀ ', ' ▄█▀█▄ ', ' ▀▀▀▀ '],
    'C': ['  ▄▀▀▄ ', ' █    ', '  ▀▀▀  '],
    'D': [' ▀█▀▄  ', ' ▄█ █ ', ' ▀▀▀▀ '],
    'E': [' ▀█▀▀ ', ' ▄█▀▀ ', ' ▀▀▀▀ '],
    'F': [' ▀█▀▀ ', ' ▄█▀▀ ', ' ▀▀   '],
    'G': ['  ▄▀▀▄ ', ' █ ▄█ ', '  ▀▀▀  '],
    'H': [' █  █ ', ' █▀▀█ ', ' ▀  ▀ '],
    'I': [' ▀█▀ ', '  █  ', ' ▀▀▀ '],
    'J': ['   █ ', '   █ ', ' ▀▀  '],
    'K': [' █ ▄▀ ', ' █▀▄  ', ' ▀  ▀ '],
    'L': [' █    ', ' █    ', ' ▀▀▀▀ '],
    'M': [' █▀▄▀█ ', ' █ ▀ █ ', ' ▀   ▀ '],
    'N': [' █▀▄ █ ', ' █ ▀▄█ ', ' ▀   ▀ '],
    'O': ['  ▄▀▀▄  ', ' █  █ ', '  ▀▀▀  '],
    'P': [' ▀█▀▀▄ ', ' ▄█▀▀  ', ' ▀▀    '],
    'Q': ['  ▄▀▀▄  ', ' █  █ ', '  ▀▀█  '],
    'R': [' ▀█▀▀▄ ', ' ▄█ ▀▄ ', ' ▀▀  ▀ '],
    'S': ['  ▄▀▀▄ ', '  ▀▀▄  ', ' ▀▀▀▀  '],
    'T': [' ▀█▀▀█▀ ', '   █   ', '  ▀▀▀  '],
    'U': [' █  █ ', ' █  █ ', '  ▀▀  '],
    'V': [' █  █ ', ' █  █ ', '  ▀▀  '],
    'W': [' █   █ ', ' █ █ █ ', '  ▀▀▀  '],
    'X': [' █ ▄▀ ', ' ▄▀ █ ', ' ▀  ▀ '],
    'Y': [' █  █ ', '  ▀█  ', '  ▀▀  '],
    'Z': [' ▀▀▀█ ', '  ▄▀  ', ' ▀▀▀▀ '],
    ' ': ['    ', '    ', '    '],
    '0': [' ▄▀▀▄ ', ' █  █ ', '  ▀▀  '],
    '1': ['  █  ', '  █  ', ' ▀▀▀ '],
    '2': [' ▀▀▄ ', '  ▄▀ ', ' ▀▀▀ '],
    '3': [' ▀▀▄ ', '  ▀▄ ', ' ▀▀  '],
    '4': [' █ █ ', ' ▀▀█ ', '   ▀ '],
    '5': [' ▀▀▀ ', '  ▀▄ ', ' ▀▀  '],
    '6': [' ▄▀▀ ', ' █▀▄ ', '  ▀  '],
    '7': [' ▀▀█ ', '  ▄▀ ', '  ▀  '],
    '8': [' ▄▀▄ ', ' ▀▄█ ', '  ▀  '],
    '9': [' ▄▀▄ ', '  ▀█ ', '  ▀  ']
  };

  const lines = ['', '', ''];
  for (const char of text) {
    const letter = (letters as any)[char] || letters[' '];
    lines[0] += letter[0];
    lines[1] += letter[1];
    lines[2] += letter[2];
  }

  lines.forEach(line => context.stdout(line, 'success'));
  
  return { success: true };
}

export const description = 'Texto en ASCII art grande';
export const usage = 'figlet <texto>';